# =============================================================================
# Igra Configuration (TOML)
# =============================================================================
# Converted from: igra-config.ini
# See CONFIG_REFACTORING.md for migration details
#
# Environment variable required:
#   export KASPA_IGRA_WALLET_SECRET=<your-wallet-secret>

[service]
node_rpc_url = "grpc://127.0.0.1:16110"
data_dir = "./.igra"

[service.pskt]
source_addresses = [
    "kaspadev:qzjwhmuwx4fmmxleyykgcekr2m2tamseskqvl859mss2jvz7tk46j2qyvpukx",
    "kaspadev:qpjfl8wzj94zc6wtdy6fh8yy7apywvnpqdfnvay8s460gd56yx5rwegde7cxa"
]
redeem_script_hex = "5220a4ebef8e3553bd9bf9212c8c66c356d4beee198580cf9e85dc20a9305e5daba920b93ff1c2c3c89b5284e7e62c090032a3dac67a62b8b0372f9417ee5ee58b6d7b20ca1582d546037ff74ebc280c84a40d7118c0959b7885b94eba69a578b273deec53ae"
sig_op_count = 2
fee_payment_mode = "recipient_pays"
fee_sompi = 0
change_address = "kaspadev:qrz9yajzk65v0wyrk0s54drcauzd8rlgaagrl74cjmj042w4crqkust5wycfq"

[service.hd]
mnemonics = [
    "abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about",
    "legal winner thank year wave sausage worth useful legal winner thank yellow",
    "letter advice cage absurd amount doctor acoustic avoid letter advice cage above"
]
required_sigs = 2

[runtime]
test_mode = true
test_recipient = "kaspadev:qzunluwzc0yfk55yulnzczgqx23a43n6v2utqde0jst7uhh93dkhkp80l2wca"
test_amount_sompi = 123456
session_timeout_seconds = 60

[signing]
backend = "threshold"

[rpc]
addr = "127.0.0.1:8088"
enabled = true

[policy]
allowed_destinations = ["kaspadev:qr9ptqk4gcphla6whs5qep9yp4c33sy4ndugtw2whf56279jw00wcqlxl3lq3"]
min_amount_sompi = 1000000
max_amount_sompi = 100000000000
max_daily_volume_sompi = 500000000000
require_reason = false

[group]
threshold_m = 2
threshold_n = 3
member_pubkeys = [
    "02a4ebef8e3553bd9bf9212c8c66c356d4beee198580cf9e85dc20a9305e5daba9",
    "02b93ff1c2c3c89b5284e7e62c090032a3dac67a62b8b0372f9417ee5ee58b6d7b",
    "02ca1582d546037ff74ebc280c84a40d7118c0959b7885b94eba69a578b273deec"
]
fee_rate_sompi_per_gram = 0
finality_blue_score_threshold = 0
dust_threshold_sompi = 0
min_recipient_amount_sompi = 0
session_timeout_seconds = 60

[hyperlane]
validators = [
    "039a8d46063004a62914db7eb40e445e2500331c7f1263d4596e3e3cc6bc7bc82c",
    "02f5c3507cd1dc83a1e890a830bcfd452ea12ee93537e76bc30a3130ac7138203c"
]
threshold = 2
poll_secs = 10

[iroh]
group_id = "d44bf35c6f6f52b1c245fb85ef1ae2178e4f621c9e6d53f6a36acd03aa25b81c"
verifier_keys = ["coordinator-1:02a4ebef8e3553bd9bf9212c8c66c356d4beee198580cf9e85dc20a9305e5daba9"]

# =============================================================================
# Signer Profiles
# =============================================================================
# Use --profile <name> to load a specific profile
# Example: igra-service --profile signer-1

[profiles.signer-1]

[profiles.signer-1.service]
data_dir = "./.igra/signer-1"

[profiles.signer-1.hd]
mnemonics = ["abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"]

[profiles.signer-1.rpc]
addr = "127.0.0.1:8088"

[profiles.signer-1.iroh]
peer_id = "signer-1"
signer_seed_hex = "000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f"
group_id = "d44bf35c6f6f52b1c245fb85ef1ae2178e4f621c9e6d53f6a36acd03aa25b81c"
network_id = 0
verifier_keys = [
    "signer-1:03a107bff3ce10be1d70dd18e74bc09967e4d6309ba50d5f1ddc8664125531b8",
    "signer-2:29acbae141bccaf0b22e1a94d34d0bc7361e526d0bfe12c89794bc9322966dd7",
    "signer-3:2543b92ff1095511476adc8369db6ddc933665a11978dda1404ee1066ca9559d"
]

[profiles.signer-2]

[profiles.signer-2.service]
data_dir = "./.igra/signer-2"

[profiles.signer-2.hd]
mnemonics = ["legal winner thank year wave sausage worth useful legal winner thank yellow"]

[profiles.signer-2.rpc]
addr = "127.0.0.1:8089"

[profiles.signer-2.iroh]
peer_id = "signer-2"
signer_seed_hex = "202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f"
group_id = "d44bf35c6f6f52b1c245fb85ef1ae2178e4f621c9e6d53f6a36acd03aa25b81c"
network_id = 0
verifier_keys = [
    "signer-1:03a107bff3ce10be1d70dd18e74bc09967e4d6309ba50d5f1ddc8664125531b8",
    "signer-2:29acbae141bccaf0b22e1a94d34d0bc7361e526d0bfe12c89794bc9322966dd7",
    "signer-3:2543b92ff1095511476adc8369db6ddc933665a11978dda1404ee1066ca9559d"
]

[profiles.signer-3]

[profiles.signer-3.service]
data_dir = "./.igra/signer-3"

[profiles.signer-3.hd]
mnemonics = ["letter advice cage absurd amount doctor acoustic avoid letter advice cage above"]

[profiles.signer-3.rpc]
addr = "127.0.0.1:8090"

[profiles.signer-3.iroh]
peer_id = "signer-3"
signer_seed_hex = "404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f"
group_id = "d44bf35c6f6f52b1c245fb85ef1ae2178e4f621c9e6d53f6a36acd03aa25b81c"
network_id = 0
verifier_keys = [
    "signer-1:03a107bff3ce10be1d70dd18e74bc09967e4d6309ba50d5f1ddc8664125531b8",
    "signer-2:29acbae141bccaf0b22e1a94d34d0bc7361e526d0bfe12c89794bc9322966dd7",
    "signer-3:2543b92ff1095511476adc8369db6ddc933665a11978dda1404ee1066ca9559d"
]
